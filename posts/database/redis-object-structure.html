<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Redis - 对象结构 - 程序员翔仔</title><meta name=Description content="程序员翔仔，一个记录了翔仔个人编程笔记的地方"><meta property="og:title" content="Redis - 对象结构"><meta property="og:description" content="其实，Redis 的每种对象都有对象结构与对应编码的数据结构组合而成，进阶 Redis 就需要从它的对象机制开始。"><meta property="og:type" content="article"><meta property="og:url" content="https://fatedeity.cn/posts/database/redis-object-structure.html"><meta property="og:image" content="https://fatedeity.cn/favicon-32x32.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-27T09:03:40+08:00"><meta property="article:modified_time" content="2023-05-20T10:15:11+08:00"><meta property="og:site_name" content="程序员翔仔"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://fatedeity.cn/favicon-32x32.png"><meta name=twitter:title content="Redis - 对象结构"><meta name=twitter:description content="其实，Redis 的每种对象都有对象结构与对应编码的数据结构组合而成，进阶 Redis 就需要从它的对象机制开始。"><meta name=application-name content="程序员翔仔"><meta name=apple-mobile-web-app-title content="程序员翔仔"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://fatedeity.cn/posts/database/redis-object-structure.html><link rel=prev href=https://fatedeity.cn/posts/database/redis-basic-data-type.html><link rel=next href=https://fatedeity.cn/posts/operating-system/openssh-no-matching-host-key-type-found.html><link rel=stylesheet href=/css/style.min.68f5de0d22e326dedf4dfe8e806e9640b9919ae9e1b50df254df92f9036a799d59ba1cff1530486374bc022352a3adb1bab3b30a35aeafa690009183d4d51c2f.css integrity="sha512-aPXeDSLjJt7fTf6OgG6WQLmRmunhtQ3yVN+S+QNqeZ1Zuhz/FTBIY3S8AiNSo62xurOzCjWur6aQAJGD1NUcLw=="><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><meta name=google-site-verification content="NSfr_TOb9-BVneo8k_7eO6vn7dy9XsG3KB7jBQD8hiA"><meta name=baidu-site-verification content="code-jrerrcwoiq"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Redis - 对象结构","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/fatedeity.cn\/posts\/database\/redis-object-structure.html"},"genre":"posts","keywords":"NoSQL, 缓存, Redis","wordcount":2098,"url":"https:\/\/fatedeity.cn\/posts\/database\/redis-object-structure.html","datePublished":"2023-03-27T09:03:40+08:00","dateModified":"2023-05-20T10:15:11+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"翔仔"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=程序员翔仔><img class="lazyload logo" src=/svg/loading.min.svg data-src=/logo-40x40.png data-srcset="/logo-40x40.png, /logo-40x40.png 1.5x, /logo-40x40.png 2x" data-sizes=auto alt=/logo-40x40.png title=/logo-40x40.png>程序员翔仔</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/>首页 </a><a class=menu-item href=/categories.html>分类 </a><a class=menu-item href=/tags.html>标签 </a><a class=menu-item href=/posts.html>归档 </a><a class=menu-item href=/about.html>关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=程序员翔仔><img class="lazyload logo" src=/svg/loading.min.svg data-src=/logo-40x40.png data-srcset="/logo-40x40.png, /logo-40x40.png 1.5x, /logo-40x40.png 2x" data-sizes=auto alt=/logo-40x40.png title=/logo-40x40.png>程序员翔仔</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/ title>首页</a><a class=menu-item href=/categories.html title>分类</a><a class=menu-item href=/tags.html title>标签</a><a class=menu-item href=/posts.html title>归档</a><a class=menu-item href=/about.html title>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class="toc-content always-active" id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Redis - 对象结构</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>翔仔</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF.html><i class="far fa-folder fa-fw" aria-hidden=true></i>数据库技术</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2023-03-27>2023-03-27</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 2098 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 5 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#简介>简介</a></li><li><a href=#数据库结构>数据库结构</a><ul><li><a href=#切换数据库>切换数据库</a></li><li><a href=#数据库键空间>数据库键空间</a></li><li><a href=#读写键空间的维护操作>读写键空间的维护操作</a></li></ul></li><li><a href=#类型与编码>类型与编码</a><ul><li><a href=#数据类型>数据类型</a></li><li><a href=#对象编码>对象编码</a></li><li><a href=#对象指针>对象指针</a></li><li><a href=#空转时间>空转时间</a></li></ul></li><li><a href=#命令执行流程>命令执行流程</a></li><li><a href=#对象共享>对象共享</a></li><li><a href=#内存回收>内存回收</a></li></ul></nav></div></div><div class=content id=content><p>其实，Redis 的每种对象都有对象结构与对应编码的数据结构组合而成，进阶 Redis 就需要从它的对象机制开始。</p><h2 id=简介>简介</h2><p>Redis 使用对象存储数据库中的键和值，每当在 Redis 中创建一个新的键值对时，都会创建两个对象：一个是键对象，另一个是值对象。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=assets/Redis%e5%af%b9%e8%b1%a1%e7%bb%93%e6%9e%84.png data-srcset="assets/Redis%e5%af%b9%e8%b1%a1%e7%bb%93%e6%9e%84.png, assets/Redis%e5%af%b9%e8%b1%a1%e7%bb%93%e6%9e%84.png 1.5x, assets/Redis%e5%af%b9%e8%b1%a1%e7%bb%93%e6%9e%84.png 2x" data-sizes=auto alt=assets/Redis对象结构.png title="Redis 对象结构"></p><p>其中，Redis 的每种对象都由对象结构和对应编码的数据结构组合而成，而每种对象类型对应若干编码方式，不同编码方式对应的底层数据结构也会有所不同。</p><h2 id=数据库结构>数据库结构</h2><p>Redis 服务器的数据库都保存在 <code>redisServer</code> 的 <code>db</code> 数组中，数组中的每个项都是 <code>redisDb</code> 结构，每个 <code>redisDb</code> 结构代表一个数据库。</p><p>下面是部分 <code>redisServer</code> 结构：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>struct</span> <span class=n>redisServer</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>redisDb</span> <span class=o>*</span><span class=n>db</span><span class=p>;</span>    <span class=c1>// 保存数据库的数组
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>dbnum</span><span class=p>;</span>      <span class=c1>// 服务器的数据库数量
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p>其中，初始化服务器时，会根据 <code>dbnum</code> 的值决定创建多少个数据库。默认情况下，<code>dbnum</code> 的值是 16。</p><h3 id=切换数据库>切换数据库</h3><p>默认情况下，Redis 客户端的目标数据库是 0 号数据库，但是客户端可以使用 <code>SELECT</code> 命令切换目标数据库。</p><p>需要注意的是，Redis 现在没有向客户端返回目标数据库的命令，对数据库进行误操作极易出现不符合预期的情况，尤其是像 <code>FLUSHDB</code> 这样的命令。</p><p>比较好的做法是尽量少地在代码中切换数据库，即使是在命令行操作，也尽量显式地切换到指定的数据库，然后再执行命令。</p><h3 id=数据库键空间>数据库键空间</h3><p>每一个数据库中都存储了一个字典，这个字典存储了数据库中的所有键值对，这个字典又被称为键空间。</p><p>所有对数据库中键值对的增删查改操作，实际上都是在操作键空间字典。</p><p>只是，由于数据库可以存储多种不同的数据结构类型，这些增删查改操作，都会使用对应数据结构提供的函数执行。</p><h3 id=读写键空间的维护操作>读写键空间的维护操作</h3><p>当使用 Redis 命令对键空间字典进行读写操作时，服务器不仅会执行这些读写操作，还会做一些维护性的操作，提高 Redis 的可用性，其中包括：</p><ul><li>读取一个键时，服务器会根据键是否存在来更新键空间命中次数和不命中次数</li><li>读取到一个键之后，服务器会更新这个键的 <code>lru</code> 属性</li><li>如果服务器读取到键之后，发现这个键已经过期，会先删除这个键，再执行后续的操作</li><li>如果有客户端使用 <code>WATCH</code> 命令监视这个键，服务器修改这个键之后，会将这个键标记为 dirty 状态</li><li>服务器每次修改一个键之后，都会对脏计数器的值增 1，这个计数器会触发服务器的持久化或复制操作</li><li>如果服务器开启了通知功能，那么对这个键做修改操作之后，服务器将按配置发送对应的数据库通知</li></ul><h2 id=类型与编码>类型与编码</h2><p>Redis 中的每个对象都是由一个 <code>redisObject</code> 结构表示，其结构如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>typedef</span> <span class=k>struct</span> <span class=n>redisObject</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>unsigned</span> <span class=nl>type</span><span class=p>:</span><span class=mi>4</span><span class=p>;</span>        <span class=c1>// 类型
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>unsigned</span> <span class=nl>encoding</span><span class=p>:</span><span class=mi>4</span><span class=p>;</span>    <span class=c1>// 编码
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>unsigned</span> <span class=nl>lru</span><span class=p>:</span><span class=n>LRU_BITS</span><span class=p>;</span>  <span class=c1>// 记录最后访问的时间
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>refcount</span><span class=p>;</span>           <span class=c1>// 引用计数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>void</span> <span class=o>*</span><span class=n>ptr</span><span class=p>;</span>              <span class=c1>// 指向底层实现数据结构的指针
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span> <span class=n>robj</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>其中 <code>type</code>、<code>encoding</code> 和 <code>ptr</code> 是最重要的三个属性。</p><h3 id=数据类型>数据类型</h3><p>对象的 <code>type</code> 属性记录了数据结构的类型，它总是以下枚举值之一：</p><ul><li><code>REDIS_STRING</code></li><li><code>REDIS_LIST</code></li><li><code>REDIS_HASH</code></li><li><code>REDIS_SET</code></li><li><code>REDIS_ZSET</code></li></ul><h3 id=对象编码>对象编码</h3><p>对象的 <code>encoding</code> 属性记录了 <code>ptr</code> 指针指向对象的编码方式，它总是以下枚举值之一：</p><ul><li><code>OBJ_ENCODING_RAW</code></li><li><code>OBJ_ENCODING_INT</code></li><li><code>OBJ_ENCODING_HT</code></li><li><code>OBJ_ENCODING_ZIPMAP</code></li><li><code>OBJ_ENCODING_LINKEDLIST</code></li><li><code>OBJ_ENCODING_ZIPLIST</code></li><li><code>OBJ_ENCODING_INTSET</code></li><li><code>OBJ_ENCODING_SKIPLIST</code></li><li><code>OBJ_ENCODING_EMBSTR</code></li><li><code>OBJ_ENCODING_QUICKLIST</code></li><li><code>OBJ_ENCODING_STREAM</code></li></ul><p>通过使用 <code>encoding</code> 属性设定对象的编码方式，而不是使用固定编码，这样极大地提高了 Redis 的灵活性和效率，也方便 Redis 针对不同的场景选择不同的编码，针对性地做优化。</p><h3 id=对象指针>对象指针</h3><p>对象的 <code>ptr</code> 属性是一个指针，指向实际保存值的数据结构。</p><h3 id=空转时间>空转时间</h3><p>对象的 <code>lru</code> 属性记录了对象最后一次被命令程序访问的时间。空转时间指的是当前时间减去 <code>lru</code> 属性得到的时长，即未被访问的时长。</p><p>键的空转时间在内存回收算法是 <code>volatile-lru</code> 或 <code>allkeys-lru</code> 时使用到，当服务器占用的内存超过了 <code>maxmemory</code> 之后，空转时长较高的那部分键会优先被服务器释放，从而回收内存。</p><h2 id=命令执行流程>命令执行流程</h2><p>Redis 中用于操作键的命令分为两类：任何类型的键都可以执行的命令、针对特定类型的键可执行的命令。例如 <code>DEL</code>、<code>EXPIRE</code> 等命令属于前者，<code>SET</code>、<code>HSET</code> 等命令属于后者。</p><p>针对特定类型的键的执行命令，执行前需要检查键的类型，确定当前键是否可执行当前命令。</p><p>在 Redis 中，一个数据类型有可能对应多个编码方式，在检查完键的类型之后，还需要根据数据类型的不同编码进行多态处理。</p><p>因此，当处理一个特定类型命令的时候，执行的步骤如下：</p><ul><li>根据给定的 key 名称，在数据库字典中查找相对应的 Redis 对象，如果没有找到，返回 <code>NULL</code> 值</li><li>检查 Redis 对象中的 <code>type</code> 属性和执行命令所需的类型是否相符，如果不相符，返回类型错误</li><li>根据 Redis 对象中的 <code>encoding</code> 属性选择合适的操作函数来处理底层数据结构</li><li>将操作函数的返回值作为命令请求的响应返回给客户端</li></ul><h2 id=对象共享>对象共享</h2><p>目前，为了解决重复分配的麻烦，Redis 会在初始化服务器时创建一万个字符串对象，这些对象包含了从 0 到 9999 的所有整数值，当服务器需要用到值为 0 到 9999 的字符串对象时，服务器就会使用这些共享对象，而不是创建新的对象。</p><p>尽管共享更复杂的对象可以节约更多的内存，但受到 CPU 时间的限制，Redis 只对包含整数值的字符串对象进行共享。</p><p>需要注意的是，共享对象只能被字典和双向链表这类能带有指针的数据结构使用。</p><h2 id=内存回收>内存回收</h2><p>因为 C 语言并不具备自动内存回收功能，所以 Redis 在自己的对象系统中构建了一个引用计数技术实现内存回收机制。通过这个内存回收机制，Redis 可以通过对象的引用计数信息，在适当的时候自动释放对象并进行内存回收。</p><p>对象的引用计数信息通过 <code>refcount</code> 属性记录，其使用如下：</p><ul><li>当创建新对象时，引用计数的值会初始化为 <code>1</code></li><li>当这个对象被共享时，引用计数的值会自增</li><li>当使用完一个对象后，或者消除对这个对象的引用之后，引用计数的值会自减</li><li>当对象的引用计数值变为 <code>0</code> 时，对象所占用的内存会被释放</li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2023-05-20</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/posts/database/redis-object-structure.md target=_blank>阅读原始文档</a></span></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/nosql.html>NoSQL</a>,&nbsp;<a href=/tags/%E7%BC%93%E5%AD%98.html>缓存</a>,&nbsp;<a href=/tags/redis.html>Redis</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/database/redis-basic-data-type.html class=prev rel=prev title="Redis - 基础数据类型"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Redis - 基础数据类型</a>
<a href=/posts/operating-system/openssh-no-matching-host-key-type-found.html class=next rel=next title="解决 ssh 找不到对应主机密钥类型">解决 ssh 找不到对应主机密钥类型<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=giscus class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app>Giscus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.111.3">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>翔仔</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><a href=https://beian.miit.gov.cn/ target=_blank>粤ICP备2021076569号</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=/lib/lunr/lunr.stemmer.support.min.7b0408f98c705b0bc4a799d0202fa56eb3205ac5921eabd9361c0b6788f342f09cb993017c67db1e9a9cc94773fbd5719a10c007bda24312630eb81919b8b8a1.js integrity="sha512-ewQI+YxwWwvEp5nQIC+lbrMgWsWSHqvZNhwLZ4jzQvCcuZMBfGfbHpqcyUdz+9VxmhDAB72iQxJjDrgZGbi4oQ=="></script><script type=text/javascript src=/lib/lunr/lunr.zh.min.918bdd059e2c518e24c32fb5fd89144a49778f21f2166db93bf1e2ed311b3589660feb5777210257aee209f6d8bdde8c296883e34ff8bf4d5338f4be53132976.js integrity="sha512-kYvdBZ4sUY4kwy+1/YkUSkl3jyHyFm25O/Hi7TEbNYlmD+tXdyECV67iCfbYvd6MKWiD40/4v01TOPS+UxMpdg=="></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js></script><script type=text/javascript src=/js/baidu_tongji.b0e0519286d388eaa2ec7550b8dbb0df7488e085ea2e108bbd48ca6171b7696797554da5cdf808f754e5dae27659b75d83402926da5821c7ae2409445a7b488e.js integrity="sha512-sOBRkobTiOqi7HVQuNuw33SI4IXqLhCLvUjKYXG3aWeXVU2lzfgI91Tl2uJ2Wbddg0ApJtpYIceuJAlEWntIjg=="></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50},comment:{giscus:{category:"Announcements",categoryId:"DIC_kwDOIa-wYs4CSg4a",darkTheme:"dark",emitMetadata:"0",inputPosition:"top",lang:"zh-CN",lazyLoading:!0,lightTheme:"light",mapping:"pathname",reactionsEnabled:"1",repo:"fatedeity/blog-comment",repoId:"R_kgDOIa-wYg"}},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.2970a33d719df7cd89cebf586152b32a8ed30012227fa81b44282950146e0f595d1c733779e4d423dda1004bdcf707ee64d0fadc3d21229cd66b960788f84bdb.js integrity="sha512-KXCjPXGd982Jzr9YYVKzKo7TABIif6gbRCgpUBRuD1ldHHM3eeTUI92hAEvc9wfuZND63D0hIpzWa5YHiPhL2w=="></script></body></html>